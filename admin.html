<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - Portuga</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="login-section" class="login-container">
        <div class="login-box">
            <h2>Painel Administrativo</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="username">Usu√°rio:</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Senha:</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn" style="width: 100%;">Entrar</button>
            </form>
            <p style="text-align: center; margin-top: 20px; color: #666; font-size: 0.9rem;">
                Usu√°rio padr√£o: <strong>admin</strong><br>
                Senha padr√£o: <strong>portuga123</strong>
            </p>
        </div>
    </div>

    <div id="admin-panel" style="display: none;">
        <header>
            <div class="container">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h1>Painel Administrativo</h1>
                        <p class="subtitle">Gerenciamento de Pedidos</p>
                    </div>
                    <button class="btn btn-secondary" onclick="logout()">Sair</button>
                </div>
            </div>
        </header>

        <nav>
            <button class="hamburger-menu" id="hamburger-btn" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul id="admin-nav">
                <li><a href="index.html">Voltar ao Site</a></li>
                <li><a href="#" class="nav-tab active" data-tab="dashboard">Dashboard</a></li>
                <li><a href="#" class="nav-tab" data-tab="orders">Pedidos</a></li>
                <li><a href="#" class="nav-tab" data-tab="menu">Card√°pio</a></li>
                <li><a href="#" class="nav-tab" data-tab="reviews">Avalia√ß√µes</a></li>
                <li><a href="#" class="nav-tab" data-tab="notes">Notas</a></li>
                <li><a href="#" class="nav-tab" data-tab="reports">Relat√≥rios</a></li>
                <li><a href="#" class="nav-tab" data-tab="resumes">Curr√≠culos</a></li>
                <li><a href="#" class="nav-tab" data-tab="ouvidoria">Ouvidoria</a></li>
                <li><a href="#" class="nav-tab" data-tab="roles">Cargos</a></li>
                <li><a href="#" class="nav-tab" data-tab="users">Usu√°rios</a></li>
                <li><a href="#" class="nav-tab" data-tab="settings">Configura√ß√µes</a></li>
            </ul>
        </nav>

        <main class="admin-container">
            <div id="tab-dashboard" class="admin-tab active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="stat-total">0</div>
                    <div class="stat-label">Total de Pedidos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-pending">0</div>
                    <div class="stat-label">Pedidos Pendentes</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-preparing">0</div>
                    <div class="stat-label">Em Preparo</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-completed">0</div>
                    <div class="stat-label">Conclu√≠dos</div>
                </div>
            </div>

            <div class="menu-section">
                <h2>Estat√≠sticas Financeiras</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="stat-revenue">R$ 0,00</div>
                        <div class="stat-label">Receita Total</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-avg-order">R$ 0,00</div>
                        <div class="stat-label">Ticket M√©dio</div>
                    </div>
                </div>
            </div>

            <div class="menu-section">
                <h2>Pratos Mais Pedidos</h2>
                <div id="popular-items" style="color: #666;">
                    Carregando estat√≠sticas...
                </div>
            </div>

            <div class="order-list">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Lista de Pedidos</h2>
                
                <div style="margin-bottom: 20px;">
                    <label style="margin-right: 15px; color: #666;">Filtrar por status:</label>
                    <select id="status-filter" class="form-group" style="padding: 8px 15px; border: 2px solid #e9ecef; border-radius: 8px;">
                        <option value="all">Todos</option>
                        <option value="pendente">Pendentes</option>
                        <option value="preparo">Em Preparo</option>
                        <option value="concluido">Conclu√≠dos</option>
                    </select>
                </div>

                <div id="orders-container">
                </div>

                <div id="no-orders" class="empty-state" style="display: none;">
                    <div class="empty-state-icon"></div>
                    <h3>Nenhum pedido encontrado</h3>
                    <p>Os pedidos aparecer√£o aqui quando os clientes fizerem pedidos</p>
                </div>
            </div>

            <div class="menu-section" style="margin-top: 30px;">
                <h2 style="color: #dc3545;">Zona de Perigo</h2>
                <p style="color: #666; margin-bottom: 15px;">
                    Aten√ß√£o: Esta a√ß√£o ir√° remover todos os pedidos do sistema e n√£o pode ser desfeita.
                </p>
                <button class="btn btn-danger" onclick="clearAllOrders()">Limpar Todos os Pedidos</button>
            </div>
            </div>
            
            <div id="tab-orders" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Gest√£o de Pedidos - Kanban</h2>
                
                <div style="margin-bottom: 20px; display: flex; gap: 15px; flex-wrap: wrap; align-items: center;">
                    <label style="color: #666;">Filtros:</label>
                    <select id="kanban-type-filter" class="form-group" onchange="loadKanbanBoard()">
                        <option value="">Todos os Tipos</option>
                        <option value="table">Mesa</option>
                        <option value="delivery">Entrega</option>
                        <option value="pickup">Retirada</option>
                    </select>
                    
                    <input type="number" id="kanban-table-filter" placeholder="Filtrar por mesa..." 
                           class="form-group" style="width: 150px;" min="1"
                           onchange="loadKanbanBoard()">
                    
                    <button class="btn btn-secondary" onclick="clearKanbanFilters()" style="padding: 8px 15px;">
                        Limpar Filtros
                    </button>
                    
                    <button class="btn" onclick="createTestOrder()" style="padding: 8px 15px; background: #17a2b8; border-color: #17a2b8;">
                        Criar Pedido de Teste
                    </button>
                </div>
                
                <div class="kanban-board">
                    <div class="kanban-column" data-status="recebido">
                        <div class="kanban-header">
                            <h3>Recebido</h3>
                            <span class="kanban-count" id="count-recebido">0</span>
                        </div>
                        <div class="kanban-cards" id="kanban-recebido">
                        </div>
                    </div>
                    
                    <div class="kanban-column" data-status="em_andamento">
                        <div class="kanban-header">
                            <h3>Em Andamento</h3>
                            <span class="kanban-count" id="count-em_andamento">0</span>
                        </div>
                            <div class="kanban-cards" id="kanban-em_andamento">
                        </div>
                    </div>
                    
                    <div class="kanban-column" data-status="finalizado">
                        <div class="kanban-header">
                            <h3>Finalizado</h3>
                            <span class="kanban-count" id="count-finalizado">0</span>
                        </div>
                        <div class="kanban-cards" id="kanban-finalizado">
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="tab-menu" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Gest√£o de Card√°pio</h2>
                
                <div style="margin-bottom: 20px;">
                    <button class="btn" onclick="showAddGroupModal()">‚ûï Adicionar Grupo</button>
                    <button class="btn" onclick="showAddItemModal()">‚ûï Adicionar Item</button>
                </div>
                
                <div id="menu-management">
                    <p style="color: #666;">Carregando card√°pio...</p>
                </div>
            </div>
            <div id="tab-notes" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Gest√£o de Notas/Comunicados</h2>
                
                <div style="margin-bottom: 20px;">
                    <button class="btn" onclick="showAddNoteModal()">‚ûï Adicionar Nova Nota</button>
                </div>
                
                <div id="notes-list">
                    <p style="color: #666;">Carregando notas...</p>
                </div>
            </div>
            
            <div id="tab-reviews" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Gest√£o de Avalia√ß√µes</h2>
                
                <div class="stats-grid" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-value" id="review-average">0.0</div>
                        <div class="stat-label">M√©dia Geral</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="review-total">0</div>
                        <div class="stat-label">Total de Avalia√ß√µes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="review-pending">0</div>
                        <div class="stat-label">Pendentes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="review-approved">0</div>
                        <div class="stat-label">Aprovadas</div>
                    </div>
                </div>

                <div class="menu-section" style="margin-bottom: 30px;">
                    <h3 style="color: #333; margin-bottom: 15px;">Distribui√ß√£o por Estrelas</h3>
                    <div id="rating-distribution" style="display: flex; flex-direction: column; gap: 10px;">
                    </div>
                </div>

                <div style="margin-bottom: 20px; display: flex; gap: 15px; align-items: center;">
                    <label style="color: #666;">Filtrar por status:</label>
                    <select id="review-status-filter" class="form-group" style="display: inline-block; width: auto;" onchange="loadReviews()">
                        <option value="">Todos</option>
                        <option value="pendente">Pendentes</option>
                        <option value="aprovado">Aprovados</option>
                        <option value="rejeitado">Rejeitados</option>
                        <option value="arquivado">Arquivados</option>
                    </select>
                </div>

                <div id="reviews-list">
                    <p style="color: #666;">Carregando avalia√ß√µes...</p>
                </div>
            </div>
            
            <div id="tab-schedule" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Gest√£o de Hor√°rios</h2>
                
                <div style="margin-bottom: 20px;">
                    <button class="btn" onclick="showAddScheduleModal()">‚ûï Adicionar Hor√°rio</button>
                </div>

                <div id="schedule-list">
                    <p style="color: #666;">Carregando hor√°rios...</p>
                </div>
            </div>
            
            <div id="tab-reports" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Relat√≥rios</h2>
                
                <div class="report-filters" style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <label>Tipo de Relat√≥rio:</label>
                            <select id="report-type" class="form-group">
                                <option value="revenue">Faturamento</option>
                                <option value="popular-items">Produtos Mais Pedidos</option>
                                <option value="customer-flow">Fluxo de Clientes</option>
                            </select>
                        </div>
                        <div>
                            <label>Data In√≠cio:</label>
                            <input type="date" id="report-date-from" class="form-group">
                        </div>
                        <div>
                            <label>Data Fim:</label>
                            <input type="date" id="report-date-to" class="form-group">
                        </div>
                        <div style="display: flex; align-items: flex-end;">
                            <button class="btn" onclick="generateReport()">Gerar Relat√≥rio</button>
                        </div>
                    </div>
                </div>
                
                <div id="report-results">
                    <p style="color: #666; text-align: center; padding: 40px;">
                        Selecione um tipo de relat√≥rio e clique em "Gerar Relat√≥rio"
                    </p>
                </div>
            </div>
            
            <div id="tab-resumes" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Curr√≠culos Recebidos</h2>
                
                <div style="margin-bottom: 20px;">
                    <label style="margin-right: 15px; color: #666;">Filtrar por status:</label>
                    <select id="resume-status-filter" class="form-group" style="display: inline-block; width: auto;" onchange="loadResumes()">
                        <option value="">Todos</option>
                        <option value="em_analise">Em An√°lise</option>
                        <option value="aprovado">Aprovado</option>
                        <option value="rejeitado">Rejeitado</option>
                    </select>
                </div>
                
                <div id="resumes-list">
                    <p style="color: #666;">Carregando curr√≠culos...</p>
                </div>
            </div>
            
            <div id="tab-ouvidoria" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Mensagens da Ouvidoria</h2>
                
                <div style="margin-bottom: 20px;">
                    <label style="margin-right: 15px; color: #666;">Filtrar por status:</label>
                    <select id="ouvidoria-status-filter" class="form-group" style="display: inline-block; width: auto;" onchange="loadOuvidoriaMessages()">
                        <option value="">Todos</option>
                        <option value="pendente">Pendente</option>
                        <option value="em_atendimento">Em Atendimento</option>
                        <option value="resolvido">Resolvido</option>
                    </select>
                </div>
                
                <div id="ouvidoria-list">
                    <p style="color: #666;">Carregando mensagens...</p>
                </div>
            </div>
            
            <div id="tab-roles" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Gest√£o de Cargos/Roles</h2>
                
                <div style="margin-bottom: 20px;">
                    <button class="btn" onclick="showAddRoleModal()">‚ûï Adicionar Cargo</button>
                </div>
                
                <div id="roles-list">
                    <p style="color: #666;">Carregando cargos...</p>
                </div>
            </div>
            
            <div id="tab-users" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Gest√£o de Usu√°rios</h2>
                
                <div style="margin-bottom: 20px; display: flex; gap: 15px; flex-wrap: wrap;">
                    <input type="text" id="user-search" placeholder="Pesquisar usu√°rio por nome ou email..." 
                           class="form-group" style="flex: 1; min-width: 250px;"
                           onkeyup="debounceUserSearch()">
                    
                    <select id="user-role-filter" class="form-group" onchange="loadUsers()">
                        <option value="">Todos os Cargos</option>
                    </select>
                    
                    <select id="user-status-filter" class="form-group" onchange="loadUsers()">
                        <option value="">Todos os Status</option>
                        <option value="active">Ativos</option>
                        <option value="inactive">Inativos</option>
                    </select>
                </div>
                
                <div style="margin-bottom: 20px; padding: 15px; background: #d1ecf1; border-radius: 8px; border-left: 4px solid #0c5460;">
                    <p style="color: #0c5460; margin: 0;">
                        ‚ÑπÔ∏è <strong>Como usar:</strong> Use a pesquisa acima para encontrar usu√°rios. 
                        Clique em "Editar" ou "Cargos" para modificar as permiss√µes de um usu√°rio.
                    </p>
                </div>
                
                <div id="users-list">
                    <p style="color: #666;">Carregando usu√°rios...</p>
                </div>
            </div>
            
            <div id="tab-settings" class="admin-tab" style="display: none;">
                <h2 style="color: #e8c13f; margin-bottom: 25px;">Configura√ß√µes do Restaurante</h2>
                
                <div class="settings-section">
                    <h3>Status do Restaurante</h3>
                    <div style="margin: 20px 0;">
                        <label class="toggle-switch">
                            <input type="checkbox" id="restaurant-status" onchange="toggleRestaurantStatus()">
                            <span class="toggle-slider"></span>
                        </label>
                        <span id="restaurant-status-label" style="margin-left: 10px; font-weight: bold;">Fechado</span>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Hor√°rios de Funcionamento</h3>
                    <p style="color: #666; margin-bottom: 20px;">Configure os per√≠odos de funcionamento. Voc√™ pode adicionar m√∫ltiplos per√≠odos para cada servi√ßo.</p>
                    
                    <div style="margin-bottom: 30px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <label style="font-weight: 600; color: #333;">Cozinha:</label>
                            <button type="button" class="btn" onclick="addTimePeriod('kitchen')" style="padding: 6px 12px; font-size: 0.9rem;">‚ûï Adicionar Per√≠odo</button>
                        </div>
                        <div id="kitchen-periods" class="time-periods-container">
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <label style="font-weight: 600; color: #333;">Pizzaria:</label>
                            <button type="button" class="btn" onclick="addTimePeriod('pizza')" style="padding: 6px 12px; font-size: 0.9rem;">‚ûï Adicionar Per√≠odo</button>
                        </div>
                        <div id="pizza-periods" class="time-periods-container">
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <label style="font-weight: 600; color: #333;">Entregas:</label>
                            <button type="button" class="btn" onclick="addTimePeriod('delivery')" style="padding: 6px 12px; font-size: 0.9rem;">‚ûï Adicionar Per√≠odo</button>
                        </div>
                        <div id="delivery-periods" class="time-periods-container">
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Configura√ß√µes de Entrega</h3>
                    <div style="display: grid; gap: 15px; max-width: 600px;">
                        <div>
                            <label>Dist√¢ncia M√°xima (km):</label>
                            <input type="number" id="max-delivery-distance" class="form-group" value="18" step="0.5">
                            <small style="color: #666; display: block; margin-top: 5px;">
                                Entregas n√£o ser√£o aceitas acima desta dist√¢ncia.
                            </small>
                        </div>
                        <div style="background: #e7f3ff; padding: 15px; border-radius: 8px; border-left: 4px solid #0066cc;">
                            <strong style="color: #0066cc;">‚ÑπÔ∏è Taxas de Entrega:</strong>
                            <ul style="margin: 10px 0 0 20px; color: #555;">
                                <li>At√© 5 km: R$ 5,00</li>
                                <li>At√© 7 km: R$ 7,00</li>
                                <li>At√© 10 km: R$ 10,00</li>
                                <li>At√© 15 km: R$ 15,00</li>
                                <li>At√© 18 km: R$ 18,00</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Modo Manuten√ß√£o</h3>
                    <div style="margin: 20px 0;">
                        <label class="toggle-switch">
                            <input type="checkbox" id="maintenance-mode" onchange="toggleMaintenanceMode()">
                            <span class="toggle-slider"></span>
                        </label>
                        <span style="margin-left: 10px;">Ativar Modo Manuten√ß√£o</span>
                    </div>
                    
                    <div id="maintenance-options" style="display: none; margin-top: 20px; padding: 20px; background: #fff3cd; border-radius: 8px;">
                        <h4 style="color: #856404; margin-bottom: 15px;">Configurar P√°ginas em Manuten√ß√£o</h4>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                <input type="checkbox" id="restrict-all" onchange="toggleRestrictAll()">
                                <strong>Restringir TODAS as p√°ginas</strong>
                            </label>
                        </div>
                        
                        <div id="page-selection" style="margin-top: 15px;">
                            <h5 style="margin-bottom: 10px;">Ou selecione p√°ginas espec√≠ficas:</h5>
                            <div style="display: grid; gap: 8px;">
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" class="maintenance-page" value="index.html">
                                    <span>P√°gina Inicial</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" class="maintenance-page" value="menu.html">
                                    <span>Card√°pio</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" class="maintenance-page" value="carrinho.html">
                                    <span>Carrinho de Compras</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" class="maintenance-page" value="pedidos.html">
                                    <span>Acompanhar Pedidos</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" class="maintenance-page" value="avaliar.html">
                                    <span>Avaliar Restaurante</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" class="maintenance-page" value="ouvidoria.html">
                                    <span>Ouvidoria</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" class="maintenance-page" value="enviar-curriculo.html">
                                    <span>Trabalhe Conosco</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" class="maintenance-page" value="perfil.html">
                                    <span>Perfil do Usu√°rio</span>
                                </label>
                            </div>
                        </div>
                        
                        <div style="margin-top: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 500;">Mensagem Customizada:</label>
                            <textarea id="maintenance-message" class="form-group" rows="3" 
                                placeholder="Ex: Estamos em manuten√ß√£o. Voltaremos em breve!"
                                style="width: 100%; resize: vertical;"></textarea>
                        </div>
                        
                        <div style="margin-top: 15px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 500;">Tempo Estimado de Retorno (opcional):</label>
                            <input type="datetime-local" id="maintenance-eta" class="form-group" style="max-width: 300px;">
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Mensagens Personalizadas</h3>
                    <p style="color: #666; margin-bottom: 20px;">Configure mensagens personalizadas que ser√£o exibidas em diferentes momentos do sistema.</p>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">Tipo de Mensagem:</label>
                        <select id="message-type-select" onchange="loadSelectedMessage()" style="padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; width: 100%; max-width: 400px;">
                            <option value="welcome">Boas-vindas</option>
                            <option value="order_confirmed">Pedido Confirmado</option>
                            <option value="order_ready">Pedido Pronto</option>
                            <option value="order_delivered">Pedido Entregue</option>
                        </select>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">T√≠tulo da Mensagem:</label>
                        <input type="text" id="message-title" placeholder="Ex: Bem-vindo ao Portuga!" 
                               style="padding: 10px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 1rem; width: 100%;">
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">Conte√∫do da Mensagem:</label>
                        <div style="border: 2px solid #e9ecef; border-radius: 8px; background: white;">
                            <!-- Rich Text Editor Toolbar -->
                            <div id="editor-toolbar" style="background: #f8f9fa; padding: 10px; border-bottom: 1px solid #e9ecef; display: flex; gap: 5px; flex-wrap: wrap;">
                                <button type="button" onclick="formatText('bold')" title="Negrito" style="padding: 5px 10px; background: white; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;"><b>B</b></button>
                                <button type="button" onclick="formatText('italic')" title="It√°lico" style="padding: 5px 10px; background: white; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;"><i>I</i></button>
                                <button type="button" onclick="formatText('underline')" title="Sublinhado" style="padding: 5px 10px; background: white; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;"><u>U</u></button>
                                <div style="width: 1px; background: #ddd; margin: 0 5px;"></div>
                                <button type="button" onclick="formatText('formatBlock', 'h1')" title="T√≠tulo 1" style="padding: 5px 10px; background: white; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">H1</button>
                                <button type="button" onclick="formatText('formatBlock', 'h2')" title="T√≠tulo 2" style="padding: 5px 10px; background: white; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">H2</button>
                                <button type="button" onclick="formatText('formatBlock', 'h3')" title="T√≠tulo 3" style="padding: 5px 10px; background: white; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">H3</button>
                                <button type="button" onclick="formatText('formatBlock', 'p')" title="Par√°grafo" style="padding: 5px 10px; background: white; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">P</button>
                                <div style="width: 1px; background: #ddd; margin: 0 5px;"></div>
                                <select onchange="formatText('fontName', this.value); this.selectedIndex=0;" style="padding: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                    <option value="">Fonte</option>
                                    <option value="Arial">Arial</option>
                                    <option value="Courier New">Courier New</option>
                                    <option value="Georgia">Georgia</option>
                                    <option value="Times New Roman">Times New Roman</option>
                                    <option value="Verdana">Verdana</option>
                                </select>
                                <select onchange="formatText('fontSize', this.value); this.selectedIndex=0;" style="padding: 5px; border: 1px solid #ddd; border-radius: 4px;">
                                    <option value="">Tamanho</option>
                                    <option value="1">Pequeno</option>
                                    <option value="3">Normal</option>
                                    <option value="5">Grande</option>
                                    <option value="7">Muito Grande</option>
                                </select>
                            </div>
                            <!-- Rich Text Editor Content Area -->
                            <div id="message-editor" contenteditable="true" 
                                 style="min-height: 200px; padding: 15px; font-family: inherit; font-size: 1rem; line-height: 1.6; outline: none; overflow-y: auto; max-height: 400px;">
                                <p>Digite sua mensagem aqui...</p>
                            </div>
                        </div>
                        <small style="color: #666; display: block; margin-top: 5px;">
                            Use a barra de ferramentas acima para formatar o texto.
                        </small>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="checkbox" id="message-active" style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                            <span>Mensagem Ativa</span>
                        </label>
                    </div>
                    
                    <button class="btn" onclick="saveCustomMessage()">Salvar Mensagem</button>
                </div>
                
                <div style="margin-top: 30px;">
                    <button class="btn" onclick="saveSettings()">Salvar Configura√ß√µes</button>
                </div>
            </div>
        </main>

        <footer>
            <div class="container">
                <p>&copy; <span id="current-year"></span> Portuga - Restaurante & Pizzaria</p>
                <p>Painel Administrativo</p>
                <div class="footer-propaganda">
                    <p>Servi√ßos profissionais de desenvolvimento web dispon√≠veis. Contato: <a href="mailto:wiikmy.jb@gmail.com">wiikmy.jb@gmail.com</a></p>
                </div>
            </div>
        </footer>
    </div>

    <div id="note-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeNoteModal()">&times;</span>
            <h2 style="color: #e8c13f; margin-bottom: 20px;" id="note-modal-title">Adicionar Nova Nota</h2>
            
            <form id="note-form" onsubmit="saveNote(event)">
                <input type="hidden" id="note-id">
                
                <div class="form-group">
                    <label for="note-title">T√≠tulo:</label>
                    <input type="text" id="note-title" required maxlength="100" placeholder="Ex: Promo√ß√£o Especial">
                </div>
                
                <div class="form-group">
                    <label for="note-content">Mensagem:</label>
                    <textarea id="note-content" required rows="5" placeholder="Conte√∫do da nota..."></textarea>
                </div>
                
                <div class="form-group">
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="note-active" checked style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                        <span>Nota Ativa (exibir no site)</span>
                    </label>
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn" style="flex: 1;">Salvar</button>
                    <button type="button" class="btn btn-secondary" onclick="closeNoteModal()" style="flex: 1;">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <div id="group-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeGroupModal()">&times;</span>
            <h2 style="color: #e8c13f; margin-bottom: 20px;" id="group-modal-title">Adicionar Grupo</h2>
            
            <form id="group-form" onsubmit="saveGroup(event)">
                <input type="hidden" id="group-id">
                
                <div class="form-group">
                    <label for="group-parent">Grupo Pai (opcional):</label>
                    <select id="group-parent">
                        <option value="">Grupo Principal (sem grupo pai)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="group-name">Nome do Grupo:</label>
                    <input type="text" id="group-name" required maxlength="50" placeholder="Ex: Pratos Individuais">
                </div>
                
                <div class="form-group">
                    <label for="group-description">Descri√ß√£o (opcional):</label>
                    <input type="text" id="group-description" maxlength="100" placeholder="Breve descri√ß√£o do grupo">
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn" style="flex: 1;">Salvar</button>
                    <button type="button" class="btn btn-secondary" onclick="closeGroupModal()" style="flex: 1;">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <div id="item-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeItemModal()">&times;</span>
            <h2 style="color: #e8c13f; margin-bottom: 20px;" id="item-modal-title">Adicionar Item</h2>
            
            <form id="item-form" onsubmit="saveItem(event)">
                <input type="hidden" id="item-id">
                
                <div class="form-group">
                    <label for="item-group">Grupo:</label>
                    <select id="item-group" required>
                        <option value="">Selecione um grupo</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="item-name">Nome do Prato:</label>
                    <input type="text" id="item-name" required maxlength="100" placeholder="Ex: Bacalhau √† Portuguesa">
                </div>
                
                <div class="form-group">
                    <label for="item-description">Descri√ß√£o:</label>
                    <textarea id="item-description" rows="3" placeholder="Descri√ß√£o do prato"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="item-price">Pre√ßo (R$):</label>
                    <input type="number" id="item-price" required step="0.01" min="0" placeholder="0.00">
                </div>
                
                <div class="form-group">
                    <label for="item-image">URL da Imagem:</label>
                    <input type="text" id="item-image" placeholder="https://exemplo.com/imagem.jpg">
                </div>
                
                <div class="form-group">
                    <label for="item-image-upload">Fazer Upload de Imagem:</label>
                    <input type="file" id="item-image-upload" accept="image/jpeg,image/jpg,image/png,image/webp">
                    <small style="color: #666; display: block; margin-top: 5px;">
                        Formatos aceitos: JPEG, PNG, WebP.
                    </small>
                    <div id="image-preview" style="margin-top: 10px; display: none;">
                        <img id="preview-img" src="" alt="Preview" style="max-width: 200px; max-height: 200px; border: 2px solid #e8c13f; border-radius: 8px;">
                    </div>
                </div>
                
                <div class="form-group">
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="item-available" checked style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                        <span>‚úÖ Dispon√≠vel para Venda</span>
                    </label>
                </div>
                
                <div class="form-group">
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="item-local-enabled" checked style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                        <span>ü™ë Dispon√≠vel para Consumo Local</span>
                    </label>
                </div>
                
                <div class="form-group">
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="item-delivery-enabled" checked style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                        <span>üöó Dispon√≠vel para Entrega</span>
                    </label>
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn" style="flex: 1;">Salvar</button>
                    <button type="button" class="btn btn-secondary" onclick="closeItemModal()" style="flex: 1;">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <div id="permission-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closePermissionModal()">&times;</span>
            <h2 style="color: #e8c13f; margin-bottom: 20px;" id="permission-modal-title">Adicionar Permiss√£o</h2>
            
            <form id="permission-form" onsubmit="savePermission(event)">
                <input type="hidden" id="permission-id">
                
                <div class="form-group">
                    <label for="permission-name">Nome da Permiss√£o:</label>
                    <input type="text" id="permission-name" required maxlength="50" placeholder="Ex: order_view">
                </div>
                
                <div class="form-group">
                    <label for="permission-description">Descri√ß√£o:</label>
                    <input type="text" id="permission-description" maxlength="255" placeholder="Descri√ß√£o da permiss√£o">
                </div>
                
                <div class="form-group">
                    <label for="permission-resource">Recurso:</label>
                    <input type="text" id="permission-resource" required maxlength="50" placeholder="Ex: orders, menu, users">
                </div>
                
                <div class="form-group">
                    <label for="permission-action">A√ß√£o:</label>
                    <input type="text" id="permission-action" required maxlength="20" placeholder="Ex: read, create, update, delete">
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn" style="flex: 1;">Salvar</button>
                    <button type="button" class="btn btn-secondary" onclick="closePermissionModal()" style="flex: 1;">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <div id="role-modal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <span class="modal-close" onclick="closeRoleModal()">&times;</span>
            <h2 style="color: #e8c13f; margin-bottom: 20px;" id="role-modal-title">Adicionar Cargo</h2>
            
            <form id="role-form" onsubmit="saveRole(event)">
                <input type="hidden" id="role-id">
                
                <div class="form-group">
                    <label for="role-name">Nome do Cargo:</label>
                    <input type="text" id="role-name" required maxlength="50" placeholder="Ex: Gerente">
                </div>
                
                <div class="form-group">
                    <label for="role-description">Descri√ß√£o:</label>
                    <textarea id="role-description" rows="3" placeholder="Descri√ß√£o do cargo"></textarea>
                </div>
                
                <div class="form-group">
                    <label style="font-weight: 600; margin-bottom: 10px; display: block;">Permiss√µes:</label>
                    <div id="role-permissions-list" style="max-height: 300px; overflow-y: auto; border: 1px solid #e9ecef; padding: 15px; border-radius: 8px;">
                        <p style="color: #666;">Carregando permiss√µes...</p>
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn" style="flex: 1;">Salvar</button>
                    <button type="button" class="btn btn-secondary" onclick="closeRoleModal()" style="flex: 1;">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <div id="user-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeUserModal()">&times;</span>
            <h2 style="color: #e8c13f; margin-bottom: 20px;" id="user-modal-title">Adicionar Usu√°rio</h2>
            
            <form id="user-form" onsubmit="saveUser(event)">
                <input type="hidden" id="user-id">
                
                <div class="form-group">
                    <label for="user-full-name">Nome Completo:</label>
                    <input type="text" id="user-full-name" required maxlength="255" placeholder="Ex: Jo√£o Silva">
                </div>
                
                <div class="form-group">
                    <label for="user-email">Email:</label>
                    <input type="email" id="user-email" required maxlength="255" placeholder="usuario@exemplo.com">
                </div>
                
                <div class="form-group">
                    <label for="user-password">Senha:</label>
                    <input type="password" id="user-password" minlength="6" placeholder="Deixe em branco para manter a senha atual">
                    <small style="color: #666;">M√≠nimo 6 caracteres. Deixe em branco ao editar para n√£o alterar a senha.</small>
                </div>
                
                <div class="form-group">
                    <label style="font-weight: 600; margin-bottom: 10px; display: block;">Cargos:</label>
                    <div id="user-roles-list" style="max-height: 200px; overflow-y: auto; border: 1px solid #e9ecef; padding: 15px; border-radius: 8px;">
                        <p style="color: #666;">Carregando cargos...</p>
                    </div>
                </div>
                
                <div class="form-group">
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="user-active" checked style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                        <span>Usu√°rio Ativo</span>
                    </label>
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn" style="flex: 1;">Salvar</button>
                    <button type="button" class="btn btn-secondary" onclick="closeUserModal()" style="flex: 1;">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Role Permissions Modal -->
    <div id="rolePermissionsModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close" onclick="closeRolePermissionsModal()">&times;</span>
            <h2 style="color: #e8c13f; margin-bottom: 20px;">Gerenciar Permiss√µes - <span id="rolePermissionsName"></span></h2>
            
            <div id="permissionsGrid" class="permissions-grid">
                <!-- Permissions will be loaded here -->
            </div>
            
            <div style="margin-top: 30px; display: flex; gap: 10px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="closeRolePermissionsModal()">Cancelar</button>
                <button class="btn" id="saveRolePermissions">Salvar Permiss√µes</button>
            </div>
        </div>
    </div>

    <!-- User Roles Modal -->
    <div id="userRolesModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close" onclick="closeUserRolesModal()">&times;</span>
            <h2 style="color: #e8c13f; margin-bottom: 20px;">Gerenciar Cargos - <span id="userRolesName"></span></h2>
            
            <div id="rolesCheckboxes" class="roles-list" style="display: flex; flex-direction: column; gap: 12px;">
                <!-- Roles checkboxes will be loaded here -->
            </div>
            
            <div style="margin-top: 30px; display: flex; gap: 10px; justify-content: flex-end;">
                <button class="btn btn-secondary" onclick="closeUserRolesModal()">Cancelar</button>
                <button class="btn" id="saveUserRoles">Salvar Cargos</button>
            </div>
        </div>
    </div>

    <script src="scripts.js"></script>
    <script src="auth.js"></script>
    <script src="scripts/auth-check.js"></script>
    <script src="admin-permissions.js"></script>
    <script src="admin.js"></script>
</body>
</html>
